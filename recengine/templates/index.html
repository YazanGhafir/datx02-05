<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>My Page</title>
</head>

<body>
    <form method="POST" action="/formpbar">
        Name <input type="text" name="fname" required> <br>
        Age: <input type="number" name="fage" required><br>
        Weight: <input type="number" name="fweight" required><br>
        Sex: <input type="radio" id="male" name="fsex" value="MAN">
        <label for="male">Male</label>
        <input type="radio" id="female" name="fsex" value="WOMAN">
        <label for="female">Female</label>
        <input type="radio" id="other" name="fsex" value="OTHER">
        <label for="other">Other</label><br>
        Current1RM: <input type="float" name="fperformance" required><br>
        <input type="submit" value="Submit">
    </form>
    {% if age and weight and sex and performance and best_pred %}
    <h1>You input: {{weight, age, sex, performance}}: </h1>
    Your best program is: {{best_pred}} and your predicted 1RM following the program is {{predicted_performance}}
    {% endif %}


    {% if program %}
    <h1>
        Program:
    </h1>
    <table>
        <tr>
            <th>Day</th>
            <th>Weight (kg)</th>
            <th>Reps</th>
        </tr>
        {% for day, sets in program.items() %}
            {% for set in sets %}
            <tr>
                <td>{{day}}</td>
                <td>{{((set[1] | float) / 100) * performance}}</td>
                <td>{{set[2]}}</td>
            </tr>
            {% endfor %}
        {% endfor %}
    </table>
    {% endif %}

</body>

</html>
